<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_65) on Wed Jan 20 02:13:45 PST 2016 -->
<title>LambdaSolve (Stanford JavaNLP API)</title>
<meta name="date" content="2016-01-20">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LambdaSolve (Stanford JavaNLP API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":9,"i16":10,"i17":10,"i18":9,"i19":10,"i20":9,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/stanford/nlp/maxent/iis/LambdaSolve.html" target="_top">Frames</a></li>
<li><a href="LambdaSolve.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">edu.stanford.nlp.maxent.iis</div>
<h2 title="Class LambdaSolve" class="title">Class LambdaSolve</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>edu.stanford.nlp.maxent.iis.LambdaSolve</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../edu/stanford/nlp/tagger/maxent/LambdaSolveTagger.html" title="class in edu.stanford.nlp.tagger.maxent">LambdaSolveTagger</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LambdaSolve</span>
extends java.lang.Object</pre>
<div class="block">This is the main class that does the core computation in IIS.
 (Parts of it still get invoked in the POS tagger, even when not using IIS.)</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Kristina Toutanova</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#eps">eps</a></span></code>
<div class="block">Only used in the IIS optimization routines.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected byte[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#fnumArr">fnumArr</a></span></code>
<div class="block">This contains the number of features active for each pair (x,y)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#ftildeArr">ftildeArr</a></span></code>
<div class="block">This is an array of empirical expectations for the features</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#lambda">lambda</a></span></code>
<div class="block">These are the model parameters that have to be learned.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#lambda_converged">lambda_converged</a></span></code>
<div class="block">Only allocated and used in the IIS optimization routines.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../edu/stanford/nlp/maxent/Problem.html" title="class in edu.stanford.nlp.maxent">Problem</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#p">p</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double[][]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#probConds">probConds</a></span></code>
<div class="block">Conditional probabilities.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#weightRanks">weightRanks</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#zlambda">zlambda</a></span></code>
<div class="block">Normalization factors, one for each x.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#LambdaSolve--">LambdaSolve</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#LambdaSolve-edu.stanford.nlp.maxent.Problem-double-double-">LambdaSolve</a></span>(<a href="../../../../../edu/stanford/nlp/maxent/Problem.html" title="class in edu.stanford.nlp.maxent">Problem</a>&nbsp;p1,
           double&nbsp;eps1,
           double&nbsp;nerr1)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#LambdaSolve-java.lang.String-">LambdaSolve</a></span>(java.lang.String&nbsp;filename)</code>
<div class="block">Reads the lambda parameters from a file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#checkCorrectness--">checkCorrectness</a></span>()</code>
<div class="block">Check whether the constraints are satisfied, the probabilities sum to one, etc.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#divide-double-double-">divide</a></span>(double&nbsp;first,
      double&nbsp;second)</code>
<div class="block">Given a numerator and denominator in log form, this calculates
 the conditional model probabilities.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#expectedValue--">expectedValue</a></span>()</code>
<div class="block">Each pair x,y has a value in p.data.values[x][y]</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#fnum-int-int-">fnum</a></span>(int&nbsp;x,
    int&nbsp;y)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#GainCompute-edu.stanford.nlp.maxent.Feature-double-">GainCompute</a></span>(<a href="../../../../../edu/stanford/nlp/maxent/Feature.html" title="class in edu.stanford.nlp.maxent">Feature</a>&nbsp;f,
           double&nbsp;errorGain)</code>
<div class="block">Computes the gain from a feature.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#getDerivatives--">getDerivatives</a></span>()</code>
<div class="block">assuming we have the lambdas in the array and we need only the
 derivatives now.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#getDerivativesExpectedValue--">getDerivativesExpectedValue</a></span>()</code>
<div class="block">assuming we have the probConds[x][y] , compute the derivatives for the expectedValue function</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#getDerivativesLossDomination--">getDerivativesLossDomination</a></span>()</code>
<div class="block">Using the arrays calculated when computing the loss, it should not be
 too hard to get the derivatives.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#getDerivativesNeg--">getDerivativesNeg</a></span>()</code>
<div class="block">assuming we have the lambdas in the array and we need only the
 derivatives now.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#improvedIterative--">improvedIterative</a></span>()</code>
<div class="block">Iterate until convergence.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#improvedIterative-int-">improvedIterative</a></span>(int&nbsp;iters)</code>
<div class="block">Does a fixed number of IIS iterations.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#logLikelihood--">logLikelihood</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#logLikelihoodNeg--">logLikelihoodNeg</a></span>()</code>
<div class="block">Calculate the log-likelihood from scratch, hashing the conditional
 probabilities in pcond, which we will use later.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#logLikelihoodScratch--">logLikelihoodScratch</a></span>()</code>
<div class="block">calculate the log likelihood from scratch, hashing the conditional
 probabilities in pcond which we will use for the derivative later.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#lossDomination--">lossDomination</a></span>()</code>
<div class="block">calculate the loss for Dom ranking
 using the numbers in p.data.values to determine domination relationships in the graphs
 if values[x][y]> values[x][y'] then there is an edge (x,y)->(x,y')</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#main-java.lang.String:A-">main</a></span>(java.lang.String[]&nbsp;args)</code>
<div class="block">With arguments, this will print out the lambda parameters of a
 bunch of .lam files (which are assumed to all be the same size).</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#pcond-int-int-">pcond</a></span>(int&nbsp;y,
     int&nbsp;x)</code>&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#print--">print</a></span>()</code>
<div class="block">Print out p(y|x) for all pairs to the standard output.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>static double[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#read_lambdas-java.io.DataInputStream-">read_lambdas</a></span>(java.io.DataInputStream&nbsp;rf)</code>
<div class="block">Read the lambdas from the stream.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#readL-java.lang.String-">readL</a></span>(java.lang.String&nbsp;filename)</code>
<div class="block">Read the lambdas from the file.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#save_lambdas-java.io.DataOutputStream-double:A-">save_lambdas</a></span>(java.io.DataOutputStream&nbsp;rf,
            double[]&nbsp;lambdas)</code>
<div class="block">Writes the lambdas to a stream.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#save_lambdas-java.lang.String-">save_lambdas</a></span>(java.lang.String&nbsp;filename)</code>
<div class="block">Writes the lambda feature weights to the file.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#setBinary--">setBinary</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#setNonBinary--">setNonBinary</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../edu/stanford/nlp/maxent/iis/LambdaSolve.html#transformValues--">transformValues</a></span>()</code>
<div class="block">This is a specialized procedure to change the values
 of parses for semantic ranking.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="lambda">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lambda</h4>
<pre>public&nbsp;double[] lambda</pre>
<div class="block">These are the model parameters that have to be learned.
 This field is used at runtime in all tagger and other IIS/Kristina code.</div>
</li>
</ul>
<a name="lambda_converged">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lambda_converged</h4>
<pre>protected&nbsp;boolean[] lambda_converged</pre>
<div class="block">Only allocated and used in the IIS optimization routines.</div>
</li>
</ul>
<a name="eps">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>eps</h4>
<pre>protected&nbsp;double eps</pre>
<div class="block">Only used in the IIS optimization routines. Convergence threshold / allowed "newtonErr"</div>
</li>
</ul>
<a name="p">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>p</h4>
<pre>protected&nbsp;<a href="../../../../../edu/stanford/nlp/maxent/Problem.html" title="class in edu.stanford.nlp.maxent">Problem</a> p</pre>
</li>
</ul>
<a name="probConds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>probConds</h4>
<pre>protected&nbsp;double[][] probConds</pre>
<div class="block">Conditional probabilities.</div>
</li>
</ul>
<a name="zlambda">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zlambda</h4>
<pre>protected&nbsp;double[] zlambda</pre>
<div class="block">Normalization factors, one for each x.  (CDM questions 2008: Are these
 only at training time?  Can we not allocate it at test time (unlike
 what LambdaSolveTagger now does)?  Is the place where it is set from
 ySize wrong?</div>
</li>
</ul>
<a name="fnumArr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fnumArr</h4>
<pre>protected&nbsp;byte[][] fnumArr</pre>
<div class="block">This contains the number of features active for each pair (x,y)</div>
</li>
</ul>
<a name="ftildeArr">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ftildeArr</h4>
<pre>protected&nbsp;double[] ftildeArr</pre>
<div class="block">This is an array of empirical expectations for the features</div>
</li>
</ul>
<a name="weightRanks">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>weightRanks</h4>
<pre>public&nbsp;boolean weightRanks</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LambdaSolve-edu.stanford.nlp.maxent.Problem-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LambdaSolve</h4>
<pre>public&nbsp;LambdaSolve(<a href="../../../../../edu/stanford/nlp/maxent/Problem.html" title="class in edu.stanford.nlp.maxent">Problem</a>&nbsp;p1,
                   double&nbsp;eps1,
                   double&nbsp;nerr1)</pre>
</li>
</ul>
<a name="LambdaSolve-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LambdaSolve</h4>
<pre>public&nbsp;LambdaSolve(java.lang.String&nbsp;filename)</pre>
<div class="block">Reads the lambda parameters from a file.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - File to read from</dd>
</dl>
</li>
</ul>
<a name="LambdaSolve--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LambdaSolve</h4>
<pre>public&nbsp;LambdaSolve()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setNonBinary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNonBinary</h4>
<pre>public&nbsp;void&nbsp;setNonBinary()</pre>
</li>
</ul>
<a name="setBinary--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setBinary</h4>
<pre>public&nbsp;void&nbsp;setBinary()</pre>
</li>
</ul>
<a name="transformValues--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transformValues</h4>
<pre>public&nbsp;void&nbsp;transformValues()</pre>
<div class="block">This is a specialized procedure to change the values
 of parses for semantic ranking.
 The highest value is changed to 2/3
 and values of 1 are changed to 1/(3*numones). 0 is unchanged
 this is used to rank higher the ordering for the best parse
 values are in p.data.values</div>
</li>
</ul>
<a name="improvedIterative--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>improvedIterative</h4>
<pre>public&nbsp;void&nbsp;improvedIterative()</pre>
<div class="block">Iterate until convergence.  I usually use the other method that
 does a fixed number of iterations.</div>
</li>
</ul>
<a name="improvedIterative-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>improvedIterative</h4>
<pre>public&nbsp;void&nbsp;improvedIterative(int&nbsp;iters)</pre>
<div class="block">Does a fixed number of IIS iterations.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>iters</code> - Number of iterations to run</dd>
</dl>
</li>
</ul>
<a name="pcond-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pcond</h4>
<pre>public&nbsp;double&nbsp;pcond(int&nbsp;y,
                    int&nbsp;x)</pre>
</li>
</ul>
<a name="fnum-int-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fnum</h4>
<pre>protected&nbsp;double&nbsp;fnum(int&nbsp;x,
                      int&nbsp;y)</pre>
</li>
</ul>
<a name="checkCorrectness--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkCorrectness</h4>
<pre>public&nbsp;boolean&nbsp;checkCorrectness()</pre>
<div class="block">Check whether the constraints are satisfied, the probabilities sum to one, etc. Prints out a message
 if there is something wrong.</div>
</li>
</ul>
<a name="GainCompute-edu.stanford.nlp.maxent.Feature-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GainCompute</h4>
<pre>public&nbsp;double&nbsp;GainCompute(<a href="../../../../../edu/stanford/nlp/maxent/Feature.html" title="class in edu.stanford.nlp.maxent">Feature</a>&nbsp;f,
                          double&nbsp;errorGain)</pre>
<div class="block">Computes the gain from a feature. Used for feature selection.</div>
</li>
</ul>
<a name="print--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>print</h4>
<pre>public&nbsp;void&nbsp;print()</pre>
<div class="block">Print out p(y|x) for all pairs to the standard output.</div>
</li>
</ul>
<a name="save_lambdas-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save_lambdas</h4>
<pre>public&nbsp;void&nbsp;save_lambdas(java.lang.String&nbsp;filename)</pre>
<div class="block">Writes the lambda feature weights to the file.
 Can be read later with readL.
 This method opens a new file and closes it after writing it.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - The file to write the weights to.</dd>
</dl>
</li>
</ul>
<a name="save_lambdas-java.io.DataOutputStream-double:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>save_lambdas</h4>
<pre>public static&nbsp;void&nbsp;save_lambdas(java.io.DataOutputStream&nbsp;rf,
                                double[]&nbsp;lambdas)</pre>
<div class="block">Writes the lambdas to a stream.</div>
</li>
</ul>
<a name="readL-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readL</h4>
<pre>public&nbsp;void&nbsp;readL(java.lang.String&nbsp;filename)</pre>
<div class="block">Read the lambdas from the file.
 The file contains the number of lambda weights (int) followed by
 the weights.
 <i>Historical note:</i> The file does not contain
 xSize and ySize as for the method read(String).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filename</code> - The file to read from</dd>
</dl>
</li>
</ul>
<a name="read_lambdas-java.io.DataInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>read_lambdas</h4>
<pre>public static&nbsp;double[]&nbsp;read_lambdas(java.io.DataInputStream&nbsp;rf)</pre>
<div class="block">Read the lambdas from the stream.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rf</code> - Stream to read from.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>An array of lambda values read from the stream.</dd>
</dl>
</li>
</ul>
<a name="logLikelihood--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logLikelihood</h4>
<pre>public&nbsp;double&nbsp;logLikelihood()</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The loglikelihood of the empirical distribution as predicted by the model p.</dd>
</dl>
</li>
</ul>
<a name="divide-double-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>divide</h4>
<pre>public static&nbsp;double&nbsp;divide(double&nbsp;first,
                            double&nbsp;second)</pre>
<div class="block">Given a numerator and denominator in log form, this calculates
 the conditional model probabilities.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Math.exp(first)/Math.exp(second);</dd>
</dl>
</li>
</ul>
<a name="main-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>main</h4>
<pre>public static&nbsp;void&nbsp;main(java.lang.String[]&nbsp;args)</pre>
<div class="block">With arguments, this will print out the lambda parameters of a
 bunch of .lam files (which are assumed to all be the same size).
 (Without arguments, it does some creaky old self-test.)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>args</code> - command line arguments</dd>
</dl>
</li>
</ul>
<a name="logLikelihoodNeg--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logLikelihoodNeg</h4>
<pre>public&nbsp;double&nbsp;logLikelihoodNeg()</pre>
<div class="block">Calculate the log-likelihood from scratch, hashing the conditional
 probabilities in pcond, which we will use later. This is for
 a different model, in which all features effectively get negative weights
 this model is easier to use for heauristic search
 p(ti|s)=exp(sum_j{-(e^lambda_j)*f_j(ti)})</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The negative log likelihood of the data</dd>
</dl>
</li>
</ul>
<a name="logLikelihoodScratch--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logLikelihoodScratch</h4>
<pre>public&nbsp;double&nbsp;logLikelihoodScratch()</pre>
<div class="block">calculate the log likelihood from scratch, hashing the conditional
 probabilities in pcond which we will use for the derivative later.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The log likelihood of the data</dd>
</dl>
</li>
</ul>
<a name="getDerivatives--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDerivatives</h4>
<pre>public&nbsp;double[]&nbsp;getDerivatives()</pre>
<div class="block">assuming we have the lambdas in the array and we need only the
 derivatives now.</div>
</li>
</ul>
<a name="getDerivativesNeg--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDerivativesNeg</h4>
<pre>public&nbsp;double[]&nbsp;getDerivativesNeg()</pre>
<div class="block">assuming we have the lambdas in the array and we need only the
 derivatives now.
 this is for the case where the model is parameterezied such that all weights are negative
 see also logLikelihoodNeg</div>
</li>
</ul>
<a name="expectedValue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>expectedValue</h4>
<pre>public&nbsp;double&nbsp;expectedValue()</pre>
<div class="block">Each pair x,y has a value in p.data.values[x][y]</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- expected value of corpus -sum_xy (ptilde(x,y)*value(x,y)*pcond(x,y))</dd>
</dl>
</li>
</ul>
<a name="getDerivativesExpectedValue--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDerivativesExpectedValue</h4>
<pre>public&nbsp;double[]&nbsp;getDerivativesExpectedValue()</pre>
<div class="block">assuming we have the probConds[x][y] , compute the derivatives for the expectedValue function</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The derivatives of the expected</dd>
</dl>
</li>
</ul>
<a name="lossDomination--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lossDomination</h4>
<pre>public&nbsp;double&nbsp;lossDomination()</pre>
<div class="block">calculate the loss for Dom ranking
 using the numbers in p.data.values to determine domination relationships in the graphs
 if values[x][y]> values[x][y'] then there is an edge (x,y)->(x,y')</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The loss</dd>
</dl>
</li>
</ul>
<a name="getDerivativesLossDomination--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getDerivativesLossDomination</h4>
<pre>public&nbsp;double[]&nbsp;getDerivativesLossDomination()</pre>
<div class="block">Using the arrays calculated when computing the loss, it should not be
 too hard to get the derivatives.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The derivative of the loss</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?edu/stanford/nlp/maxent/iis/LambdaSolve.html" target="_top">Frames</a></li>
<li><a href="LambdaSolve.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><FONT SIZE=2><A HREF="http://nlp.stanford.edu">Stanford NLP Group</A></FONT></small></p>
</body>
</html>
